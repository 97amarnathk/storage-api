{"swagger":"2.0","info":{"title":"Supabase Storage API","description":"API documentation for Supabase Storage","version":"0.0.1"},"definitions":{"def-0":{"type":"object","properties":{"authorization":{"type":"string"}},"required":["authorization"]},"def-1":{"type":"object","properties":{"statusCode":{"type":"string"},"error":{"type":"string"},"message":{"type":"string"}},"required":["statusCode","error","message"]}},"paths":{"/bucket/":{"post":{"summary":"Create a bucket","tags":["bucket"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"name":{"type":"string"},"id":{"type":"string"}},"required":["name"]}},{"in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]}},"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}},"get":{"summary":"Gets all buckets","tags":["bucket"],"parameters":[{"in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Default Response","schema":{"type":"array","items":{"$id":"bucketSchema","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"owner":{"type":"string"},"created_at":{"type":"string"},"updated_at":{"type":"string"}},"required":["id","name"],"additionalProperties":false}}},"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}}},"/bucket/{bucketId}":{"delete":{"summary":"Delete a bucket","tags":["bucket"],"parameters":[{"type":"string","required":true,"in":"path","name":"bucketId"},{"in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}}}},"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}},"get":{"summary":"Get details of a bucket","tags":["bucket"],"parameters":[{"type":"string","required":true,"in":"path","name":"bucketId"},{"in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Default Response","schema":{"$id":"todo.com","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"owner":{"type":"string"},"created_at":{"type":"string"},"updated_at":{"type":"string"}},"required":["id","name"],"additionalProperties":false}},"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}}},"/bucket/{bucketId}/empty":{"post":{"summary":"Empty a bucket","tags":["bucket"],"parameters":[{"type":"string","required":true,"in":"path","name":"bucketId"},{"in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}}}},"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}}},"/object/copy":{"post":{"summary":"Copies an object","tags":["object"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"sourceKey":{"type":"string"},"bucketName":{"type":"string"},"destinationKey":{"type":"string"}},"required":["sourceKey","bucketName","destinationKey"]}},{"in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"Key":{"type":"string"}},"required":["Key"]}},"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}}},"/object/{bucketName}/*":{"post":{"summary":"Upload a new object","tags":["object"],"parameters":[{"type":"string","required":true,"in":"path","name":"bucketName"},{"type":"string","required":true,"in":"path","name":"*"},{"in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"Key":{"type":"string"}},"required":["Key"]}},"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}},"delete":{"summary":"Delete an object","tags":["object"],"parameters":[{"type":"string","required":true,"in":"path","name":"bucketName"},{"type":"string","required":true,"in":"path","name":"*"},{"in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}}}},"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}},"get":{"summary":"Retrieve an object","tags":["object"],"parameters":[{"type":"string","required":true,"in":"path","name":"bucketName"},{"type":"string","required":true,"in":"path","name":"*"},{"in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}},"put":{"summary":"Update the object at an existing key","tags":["object"],"parameters":[{"type":"string","required":true,"in":"path","name":"bucketName"},{"type":"string","required":true,"in":"path","name":"*"},{"in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"Key":{"type":"string"}},"required":["Key"]}},"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}}},"/object/{bucketName}":{"delete":{"summary":"Delete multiple objects","tags":["object"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"prefixes":{"type":"array","items":{"type":"string"},"minItems":1,"maxItems":1000}},"required":["prefixes"]}},{"type":"string","required":true,"in":"path","name":"bucketName"},{"in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Default Response","schema":{"type":"array","items":{"$id":"objectSchema","type":"object","properties":{"name":{"type":"string"},"bucket_id":{"type":"string"},"owner":{"type":"string"},"id":{"anyOf":[{"type":"string"},{"type":"null"}]},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}]},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}]},"last_accessed_at":{"anyOf":[{"type":"string"},{"type":"null"}]},"metadata":{"anyOf":[{"type":"object","additionalProperties":true},{"type":"null"}]},"buckets":{"$id":"bucketSchema","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"owner":{"type":"string"},"created_at":{"type":"string"},"updated_at":{"type":"string"}},"required":["id","name"],"additionalProperties":false}},"required":["name"],"additionalProperties":false}}},"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}}},"/object/sign/{bucketName}/*":{"get":{"summary":"Retrieve an object via a presigned URL","tags":["object"],"parameters":[{"type":"string","required":true,"in":"query","name":"token"},{"type":"string","required":true,"in":"path","name":"bucketName"},{"type":"string","required":true,"in":"path","name":"*"}],"responses":{"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}},"post":{"summary":"Generate a presigned url to retrieve an object","tags":["object"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"expiresIn":{"type":"number"}},"required":["expiresIn"]}},{"type":"string","required":true,"in":"path","name":"bucketName"},{"type":"string","required":true,"in":"path","name":"*"},{"in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"signedURL":{"type":"string"}},"required":["signedURL"]}},"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}}},"/object/move":{"post":{"summary":"Moves an object","tags":["object"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"bucketName":{"type":"string"},"sourceKey":{"type":"string"},"destinationKey":{"type":"string"}},"required":["bucketName","sourceKey","destinationKey"]}},{"in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Default Response","schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}},"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}}},"/object/list/{bucketName}":{"post":{"summary":"Search for objects under a prefix","tags":["object"],"parameters":[{"name":"body","in":"body","schema":{"type":"object","properties":{"prefix":{"type":"string"},"limit":{"type":"number"},"offset":{"type":"number"},"sortBy":{"type":"object","properties":{"column":{"type":"string","enum":["name","updated_at","created_at","last_accessed_at"]},"order":{"type":"string","enum":["asc","desc"]}},"required":["column"]}},"required":["prefix"]}},{"type":"string","required":true,"in":"path","name":"bucketName"},{"in":"header","name":"authorization","required":true,"type":"string"}],"responses":{"200":{"description":"Default Response","schema":{"type":"array","items":{"$id":"objectSchema","type":"object","properties":{"name":{"type":"string"},"bucket_id":{"type":"string"},"owner":{"type":"string"},"id":{"anyOf":[{"type":"string"},{"type":"null"}]},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}]},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}]},"last_accessed_at":{"anyOf":[{"type":"string"},{"type":"null"}]},"metadata":{"anyOf":[{"type":"object","additionalProperties":true},{"type":"null"}]},"buckets":{"$id":"bucketSchema","type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"owner":{"type":"string"},"created_at":{"type":"string"},"updated_at":{"type":"string"}},"required":["id","name"],"additionalProperties":false}},"required":["name"],"additionalProperties":false}}},"400":{"description":"Default Response","schema":{"$ref":"#/definitions/def-1"}}}}}},"tags":[{"name":"object","description":"Object end-points"},{"name":"bucket","description":"Bucket end-points"}]}