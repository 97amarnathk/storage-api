-- insert users
INSERT INTO "auth"."users" ("instance_id", "id", "aud", "role", "email", "encrypted_password", "confirmed_at", "invited_at", "confirmation_token", "confirmation_sent_at", "recovery_token", "recovery_sent_at", "email_change_token", "email_change", "email_change_sent_at", "last_sign_in_at", "raw_app_meta_data", "raw_user_meta_data", "is_super_admin", "created_at", "updated_at") VALUES
('00000000-0000-0000-0000-000000000000', '317eadce-631a-4429-a0bb-f19a7a517b4a', 'authenticated', 'authenticated', 'inian+user2@supabase.io', '', NULL, '2021-02-17 04:41:13.408828+00', '541rn7rTZPGeGCYsp0a38g', '2021-02-17 04:41:13.408828+00', '', NULL, '', '', NULL, NULL, '{"provider": "email"}', 'null', 'f', '2021-02-17 04:41:13.406912+00', '2021-02-17 04:41:13.406919+00'),
('00000000-0000-0000-0000-000000000000', '4d56e902-f0a0-4662-8448-a4d9e643c142', 'authenticated', 'authenticated', 'inian+user1@supabase.io', '', NULL, '2021-02-17 04:40:58.570482+00', 'U1HvzExEO3l7JzP-4tTxJA', '2021-02-17 04:40:58.570482+00', '', NULL, '', '', NULL, NULL, '{"provider": "email"}', 'null', 'f', '2021-02-17 04:40:58.568637+00', '2021-02-17 04:40:58.568642+00'),
('00000000-0000-0000-0000-000000000000', 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2', 'authenticated', 'authenticated', 'inian+admin@supabase.io', '', NULL, '2021-02-17 04:40:42.901743+00', '3EG99GjT_e3NC4eGEBXOjw', '2021-02-17 04:40:42.901743+00', '', NULL, '', '', NULL, NULL, '{"provider": "email"}', 'null', 'f', '2021-02-17 04:40:42.890632+00', '2021-02-17 04:40:42.890637+00');

-- insert buckets
INSERT INTO "public"."buckets" ("id", "name", "owner", "createdAt", "updatedAt") VALUES
('7078bc23-9dd6-460d-8b93-082254fee63a', 'bucket2', '4d56e902-f0a0-4662-8448-a4d9e643c142', '2021-02-17 04:43:32.770206+00', '2021-02-17 04:43:32.770206+00'),
('7206ba57-513a-4181-971a-feca9ef45862', 'temp1', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-02-27 03:04:25.6386+00', '2021-02-27 03:04:25.6386+00'),
('e29843e6-047e-4b1f-9906-20cc06f4aad4', 'bucket4', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-02-25 09:23:01.58385+00', '2021-02-25 09:23:01.58385+00');


-- insert objects
INSERT INTO "public"."objects" ("id", "bucketId", "name", "owner", "createdAt", "updatedAt", "lastAccessedAt", "metadata") VALUES
('03e458f9-892f-4db2-8cb9-d3401a689e25', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload23.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-03-04 08:26:08.553748+00', '2021-03-04 08:26:08.553748+00', '2021-03-04 08:26:08.553748+00', '{"mimetype": "image/svg+xml"}'),
('070825af-a11d-44fe-9f1d-abdc76f686f2', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload31.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-03-02 16:31:11.115996+00', '2021-03-02 16:31:11.115996+00', '2021-03-02 16:31:11.115996+00', '{"mimetype": "image/png"}'),
('0cac5609-11e1-4f21-b486-d0eeb60909f6', '7078bc23-9dd6-460d-8b93-082254fee63a', 'curlimage.jpg', 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2', '2021-02-23 11:05:16.625075+00', '2021-02-23 11:05:16.625075+00', '2021-02-23 11:05:16.625075+00', NULL),
('147c6795-94d5-4008-9d81-f7ba3b4f8a9f', '7078bc23-9dd6-460d-8b93-082254fee63a', 'folder/only_uid.jpg', 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2', '2021-02-17 10:36:01.504227+00', '2021-02-17 11:03:03.049618+00', '2021-02-17 10:36:01.504227+00', NULL),
('1a911f3c-8c1d-4661-93c1-8e065e4d757e', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-02-22 22:29:15.14732+00', '2021-02-22 22:29:15.14732+00', '2021-03-02 09:32:17.116+00', '{"mimetype": "image/png"}'),
('1edccac7-0876-4e9f-89da-a08d2a5f654b', '7078bc23-9dd6-460d-8b93-082254fee63a', 'only_owner/logo-light.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-02-17 05:03:18.879296+00', '2021-02-17 11:03:03.049618+00', '2021-02-17 05:03:18.879296+00', NULL),
('214d4903-df9e-4be8-addf-da060efee453', '7078bc23-9dd6-460d-8b93-082254fee63a', 'only_uid/sadcat-upload2.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-03-01 03:45:13.484824+00', '2021-03-01 03:45:13.484824+00', '2021-03-01 03:45:13.484824+00', '{"mimetype": "image/svg+xml"}'),
('2d41e8bd-e373-4d82-bedc-c926e43f9cf3', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload11.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-02-25 13:21:25.567315+00', '2021-02-25 13:21:25.567315+00', '2021-02-25 13:21:25.567315+00', '{"mimetype": "image/png"}'),
('34811c1b-85e5-4eb6-a5e3-d607b2f6986e', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public_read/hero.png', 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2', '2021-02-17 05:03:45.068618+00', '2021-02-17 11:03:03.049618+00', '2021-02-17 05:03:45.068618+00', NULL),
('372d5d74-e24d-49dc-abe8-47d7eb226a2e', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload37.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-03-02 17:33:06.317641+00', '2021-03-02 17:33:06.317641+00', '2021-03-02 17:33:06.317641+00', '{"mimetype": "image/png", "cacheControl": "3600"}'),
('45950ff2-d3a8-4add-8e49-bafc01198340', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload33.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-03-02 16:48:03.494273+00', '2021-03-02 16:48:03.494273+00', '2021-03-02 16:48:03.494273+00', '{"mimetype": "image/png"}'),
('469b0216-5419-41f6-9a37-2abfd7fad29c', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload22.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-03-01 08:50:21.384268+00', '2021-03-01 08:50:21.384268+00', '2021-03-01 08:50:21.384268+00', '{"mimetype": "image/svg+xml"}'),
('548e52bf-bcf7-428a-b8b0-23d75f31f44a', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload35.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-03-02 16:54:29.18488+00', '2021-03-02 16:54:29.18488+00', '2021-03-02 16:54:29.18488+00', '{"mimetype": "image/png"}'),
('55930619-a668-4dbc-aea3-b93dfe101e7f', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload38.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-03-02 17:38:44.438168+00', '2021-03-02 17:38:44.438168+00', '2021-03-02 17:38:44.438168+00', '{"mimetype": "image/png", "cacheControl": "max-age=3600"}'),
('6434146a-8bac-431e-a38d-0a6203790d6d', '7078bc23-9dd6-460d-8b93-082254fee63a', 'only_owner/logo-dark.png', 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2', '2021-02-17 05:03:13.385098+00', '2021-02-17 11:03:03.049618+00', '2021-02-17 05:03:13.385098+00', NULL),
('6436f0d3-429a-47c0-8a93-fb8db1fb2fcb', '7078bc23-9dd6-460d-8b93-082254fee63a', 'zlib.d.ts', 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2', '2021-02-23 11:03:41.741517+00', '2021-02-23 11:03:41.741517+00', '2021-02-23 11:03:41.741517+00', NULL),
('65a3aa9c-0ff2-4adc-85d0-eab673c27443', '7078bc23-9dd6-460d-8b93-082254fee63a', 'authenticated/casestudy.png', 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2', '2021-02-17 10:42:19.366559+00', '2021-02-17 11:03:30.025116+00', '2021-02-17 10:42:19.366559+00', NULL),
('6767b924-bf78-42cc-acc6-4ce2266d547f', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload5.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-02-23 02:46:26.148435+00', '2021-02-23 02:46:26.148435+00', '2021-02-23 02:46:26.148435+00', NULL),
('80e1cfdb-9a2e-4a11-9391-d5fc38472028', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload3.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-02-23 02:43:11.434911+00', '2021-02-23 02:43:11.434911+00', '2021-02-23 02:43:11.434911+00', NULL),
('8377527d-3518-4dc8-8290-c6926470e795', '7078bc23-9dd6-460d-8b93-082254fee63a', 'folder/subfolder/public-all-permissions.png', 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2', '2021-02-17 10:26:42.791214+00', '2021-02-17 11:03:30.025116+00', '2021-02-17 10:26:42.791214+00', NULL),
('87aa2804-9903-4ac4-818d-99af06f50368', '7078bc23-9dd6-460d-8b93-082254fee63a', 'only_uid/sadcat-upload3.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-03-01 08:53:02.358906+00', '2021-03-01 08:53:02.358906+00', '2021-03-01 08:53:02.358906+00', '{"mimetype": "image/svg+xml"}'),
('98bdd620-65c6-4969-a637-e59e74b54a79', '7078bc23-9dd6-460d-8b93-082254fee63a', 'only_uid/sadcat-upload1.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-03-01 03:45:05.555108+00', '2021-03-01 03:45:05.555108+00', '2021-03-01 03:45:05.555108+00', '{"mimetype": "image/svg+xml"}'),
('9d4836f1-46db-43a9-be8e-a23507e0de47', 'e29843e6-047e-4b1f-9906-20cc06f4aad4', 'public/sadcat-upload12.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-02-25 14:45:17.927146+00', '2021-02-25 14:45:17.927146+00', '2021-02-25 14:45:17.927146+00', '{"mimetype": "image/png"}'),
('9fa68e41-3d87-4037-8279-d143f15f4a68', '7078bc23-9dd6-460d-8b93-082254fee63a', 'only_uid/crud_uid.svg', 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2', '2021-02-17 10:31:37.374465+00', '2021-02-17 11:03:03.049618+00', '2021-02-17 10:31:37.374465+00', NULL),
('a0104ba3-ba73-41e6-a984-05d072ca0589', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public_read/case-study-xendit.jpg', 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2', '2021-02-17 05:03:31.624525+00', '2021-02-17 11:03:03.049618+00', '2021-02-17 05:03:31.624525+00', NULL),
('b39ae4ab-802b-4c42-9271-3f908c34363c', '7078bc23-9dd6-460d-8b93-082254fee63a', 'private/sadcat-upload3.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-03-01 08:53:29.567975+00', '2021-03-01 08:53:29.567975+00', '2021-03-01 08:53:29.567975+00', '{"mimetype": "image/svg+xml"}'),
('b60346fd-b300-46cd-b0a6-4dbc34c6733d', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload34.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-03-02 16:48:56.249058+00', '2021-03-02 16:48:56.249058+00', '2021-03-02 16:48:56.249058+00', '{"mimetype": "image/png"}'),
('b8fa0181-8c9a-4b3f-8fad-efda7884cef1', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload36.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-03-02 17:16:18.060569+00', '2021-03-02 17:16:18.060569+00', '2021-03-02 17:16:18.060569+00', '{"mimetype": "image/png"}'),
('bde865e5-353a-4666-9305-4f03c356af81', '7078bc23-9dd6-460d-8b93-082254fee63a', 'only_uid/sadcat-upload.png', 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2', '2021-02-22 23:32:54.168061+00', '2021-02-22 23:32:54.168061+00', '2021-02-22 23:32:54.168061+00', NULL),
('d986924d-7c6a-41b3-a922-dade7ee5bcbc', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload4.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-02-23 02:45:16.552906+00', '2021-02-23 02:45:16.552906+00', '2021-02-23 02:45:16.552906+00', NULL),
('d993717f-8696-4d7f-b3a1-47201ff2bad7', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat-upload6.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-02-23 02:48:44.514081+00', '2021-02-23 02:48:44.514081+00', '2021-02-23 02:48:44.514081+00', NULL),
('dc7f90aa-08bc-447f-a6a0-2e647f20fe66', '7206ba57-513a-4181-971a-feca9ef45862', 'only_uid/sadcat-upload.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-02-27 03:15:09.489801+00', '2021-02-27 03:15:09.489801+00', '2021-02-27 03:15:09.489801+00', '{"mimetype": "image/svg+xml"}'),
('e3462b3a-4f95-48ea-8509-0596594ed2cc', 'e29843e6-047e-4b1f-9906-20cc06f4aad4', 'public/sadcat-upload13.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-02-25 14:46:47.443182+00', '2021-02-25 14:46:47.443182+00', '2021-02-25 14:46:47.443182+00', '{"mimetype": "image/png"}'),
('e89eb6a1-0add-4f4d-8d53-b05d2e7c6cc3', 'e29843e6-047e-4b1f-9906-20cc06f4aad4', 'public/sadcat-upload11.png', '317eadce-631a-4429-a0bb-f19a7a517b4a', '2021-02-25 13:59:15.739493+00', '2021-02-25 13:59:15.739493+00', '2021-02-25 13:59:15.739493+00', '{"mimetype": "image/png"}'),
('f734f742-ba9b-4642-aba1-d70190c3c0c0', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public_read/casestudy.png', 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2', '2021-02-17 05:03:38.0285+00', '2021-02-17 11:03:03.049618+00', '2021-02-17 05:03:38.0285+00', NULL),
('f7569ccf-debb-46cb-9874-cf4e6b6cf17b', '7078bc23-9dd6-460d-8b93-082254fee63a', 'public/sadcat.gif', 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2', '2021-02-19 07:58:47.709215+00', '2021-02-19 07:58:47.709215+00', '2021-02-19 07:58:47.709215+00', NULL);


-- add policies
CREATE POLICY crud_public_folder ON objects for all USING ("bucketId"='7078bc23-9dd6-460d-8b93-082254fee63a' and (foldername(name))[1] = 'public');
CREATE POLICY crud_public_file ON objects for all USING ("bucketId"='7078bc23-9dd6-460d-8b93-082254fee63a' and name = 'folder/subfolder/public-all-permissions.png');
CREATE POLICY crud_uid_folder ON objects for all USING ("bucketId"='7078bc23-9dd6-460d-8b93-082254fee63a' and (foldername(name))[1] = 'only_uid' and auth.uid() = 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2');
CREATE POLICY crud_uid_file ON objects for all USING ("bucketId"='7078bc23-9dd6-460d-8b93-082254fee63a' and name = 'folder/only_uid.jpg' and auth.uid() = 'd8c7bce9-cfeb-497b-bd61-e66ce2cbdaa2');
CREATE POLICY authenticated_folder ON objects for all USING ("bucketId"='7078bc23-9dd6-460d-8b93-082254fee63a' and (foldername(name))[1] = 'authenticated' and auth.role() = 'authenticated');
CREATE POLICY crud_owner_only ON objects for all USING ("bucketId"='7078bc23-9dd6-460d-8b93-082254fee63a' and (foldername(name))[1] = 'only_owner' and owner = auth.uid());
CREATE POLICY delete_owner_only ON objects for all USING ("bucketId"='7078bc23-9dd6-460d-8b93-082254fee63a' and (foldername(name))[1] = 'only_owner' and owner = auth.uid());
CREATE POLICY open_all_update ON objects for all WITH CHECK ("bucketId"='e29843e6-047e-4b1f-9906-20cc06f4aad4');